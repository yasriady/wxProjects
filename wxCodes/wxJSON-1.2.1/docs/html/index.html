<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>wxJSON: wxJSON - The wxWidgets implementation of JSON</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>wxJSON - The wxWidgets implementation of JSON</h1>
<p>
<center><b>version 1.2</b></center><p>
<center><a href="http://luccat.users.sourceforge.net/wxjson/">http://luccat.users.sourceforge.net/wxjson/</a></center><h2><a class="anchor" name="main_intro">
Introduction</a></h2>
JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read and write. It is easy for machines to parse and generate. It is based on a subset of the JavaScript Programming Language, Standard ECMA-262 3rd Edition - December 1999. JSON is a text format that is completely language independent but uses conventions that are familiar to programmers of the C-family of languages, including C, C++, C#, Java, JavaScript, Perl, Python, and many others. These properties make JSON an ideal data-interchange language.<p>
Here is an example of JSON formatted data:<p>
<div class="fragment"><pre class="fragment"> {
   <span class="stringliteral">"book"</span>:
   {
     <span class="stringliteral">"title"</span>  : <span class="stringliteral">"How to catch Peter Pan"</span>,
     <span class="stringliteral">"author"</span> : <span class="stringliteral">"Captain Hook"</span>,
     <span class="stringliteral">"pages"</span>  : 285,
     <span class="stringliteral">"price"</span>  : 29.95,
     <span class="stringliteral">"translations"</span> :
     [
       <span class="stringliteral">"german"</span>,
       <span class="stringliteral">"french"</span>,
       <span class="stringliteral">"spanish"</span>,
       <span class="stringliteral">"italian"</span>
     ]
   }
 }
</pre></div><p>
And this is the same data in XML format:<p>
<div class="fragment"><pre class="fragment"> &lt;book title=<span class="stringliteral">"How to catch Peter Pan"</span> author=<span class="stringliteral">"Captain Hook"</span> pages=285 price=29.95&gt;
   &lt;translations&gt;
     &lt;item <span class="stringliteral">"german"</span>/&gt;
     &lt;item <span class="stringliteral">"french"</span>/&gt;
     &lt;item <span class="stringliteral">"spanish"</span>/&gt;
     &lt;item <span class="stringliteral">"italian"</span>/&gt;
   &lt;/translations&gt;
 &lt;/book&gt;
</pre></div><p>
As you can see, JSON format is much more readable by humans and uses a syntax similar to many C-like languages. Someone may say that XML is object-oriented and JSON in not. The answer is that none of the two formats is really object-oriented. In fact, XML is a document-oriented format while JSON is a data-oriented format.<h2><a class="anchor" name="main_struct">
JSON data format</a></h2>
JSON handles data. There are the following data types in JSON:<p>
<ul>
<li>strings: a string is a sequence of ZERO or more unicode characters wrapped in double quotes, using backslash escapes</li>
</ul>
<ul>
<li>numbers: a number is very much like a C or Java number, except that the octal and hexadecimal formats are not used</li>
</ul>
<ul>
<li>the following three literals: <b>null</b>, <b>true</b> and <b>false</b> </li>
</ul>
<ul>
<li>objects: a JSON object is a collection of name/value pairs</li>
</ul>
<ul>
<li>arrays: an array is an ordered collection of values</li>
</ul>
<ul>
<li>binary buffers: this is a <b>wxJSON</b> extension to the JSON syntax and let the user store binary memory buffers in JSON values. To know more about this topic read <a class="el" href="wxjson_tutorial.html#wxjson_tutorial_memorybuff">Storing binary memory buffers</a></li>
</ul>
JSON is built on two structures:<p>
<ul>
<li>the <b>object:</b> a collection of name/value pairs. In various languages, this is realized as an object, record, struct, dictionary, hash table, keyed list, or associative array. </li>
<li>the <b>array:</b> an ordered list of values. In most languages, this is realized as an array, vector, list, or sequence.</li>
</ul>
<h3><a class="anchor" name="main_intro_object">
The JSON object</a></h3>
The JSON object is an unordered collection of key/value pairs (or name/value pairs). The keys are strings and the values are any of the JSON types including object and array. A colon separates the keys from the values, and comma separates the pairs. The whole thing is wrapped in curly braces. It maps directly onto objects, structs, records, and hashtables. This is an example of a JSON object:<p>
<div class="fragment"><pre class="fragment">{
    <span class="stringliteral">"name"</span>: <span class="stringliteral">"Jack (\"Bee\") Nimble"</span>, 
    <span class="stringliteral">"format"</span>: {
        <span class="stringliteral">"type"</span>:       <span class="stringliteral">"rect"</span>,
        <span class="stringliteral">"size"</span> :
        { 
          <span class="stringliteral">"width"</span>:      1920, 
          <span class="stringliteral">"height"</span>:     1080, 
        },
        <span class="stringliteral">"interlace"</span>:  <span class="keyword">false</span>, 
        <span class="stringliteral">"frame rate"</span>: 24
    }
}
</pre></div><h3><a class="anchor" name="main_intro_array">
The JSON array</a></h3>
The JSON array is an ordered collection of values separated by commas. The whole thing is wrapped in square brackets. It maps directly onto arrays, vectors, and lists. These are examples of JSON arrays:<p>
<div class="fragment"><pre class="fragment">  [<span class="stringliteral">"Sunday"</span>, <span class="stringliteral">"Monday"</span>, <span class="stringliteral">"Tuesday"</span>, <span class="stringliteral">"Wednesday"</span>, <span class="stringliteral">"Thursday"</span>, <span class="stringliteral">"Friday"</span>, <span class="stringliteral">"Saturday"</span>]
  [
    [0, -1, 0],
    [1, 0, 0],
    [0, 0, 1]
  ]
</pre></div><h2><a class="anchor" name="main_pre">
Prerequisites of wxJSON</a></h2>
wxJSON compiles and works (at least, it <em>should</em> work) on wxWidgets 2.8 (minimum is wxW 2.8.4) and wxWidgets 2.9 (minimum is 2.9.1).<h2><a class="anchor" name="main_classes">
The JSON implementation for wxWidgets</a></h2>
The wxJSON library is a JSON implementation for wxWidgets and it is composed of only three classes which uses the <b>wxBase</b> library: the only needed classes are: <b>wxString</b>, <b>wxObjArray</b>, <b>wxHashMap</b>, <b>wxInputStream</b>, <b>wxOutputStream</b>, <b>wxArrayString</b> and the <b>wxMBConv</b> -derived classes. wxJSON does not depend on the <b>std::string</b> class nor on STL containers.<p>
Starting from version 1.2 the <b>wxJSON</b> library compiles also if wxWdigets is configured with the <code>--enable-stl</code> flag then STL is available for both wxWdigets and wxJSON. In fact, if STL is enabled, the wxJSON <em>array</em> type and <em>key/value</em> type are implemented using STL containers. Otherwise, the wxWidegts' own implementation of container classes is used. Note that from the point of view of the wxJSON user, the actual implementation is totally transparent: JSON values are accessed in the same way in both implementations. To know more read <a class="el" href="pg_json_internals.html#json_internals_array">The array of values.</a> and <a class="el" href="pg_json_internals.html#json_internals_map">The map of key/value pairs.</a>.<p>
The following three classes are defined in wxJSON:<p>
<ul>
<li><a class="el" href="classwxJSONValue.html" title="The JSON value class implementation.">wxJSONValue</a> this class holds the JSON value which can be an integer, a double, a boolean, a string, an array of JSON values or a map of key/value pairs</li>
</ul>
<ul>
<li><a class="el" href="classwxJSONReader.html" title="The JSON parser.">wxJSONReader</a> the parser of a JSON-formatted text</li>
</ul>
<ul>
<li><a class="el" href="classwxJSONWriter.html" title="The JSON document writer.">wxJSONWriter</a> the generator of a JSON formatted text</li>
</ul>
Pages related to this documentation:<p>
<ul>
<li><a class="el" href="wxjson_tutorial.html">wxJSON - A brief tutorial</a>. </li>
<li><a class="el" href="pg_json_internals.html">wxJSON internals</a> </li>
<li><a class="el" href="wxjson_whatsnew12.html">What's new in version 1.2</a></li>
</ul>
<h2><a class="anchor" name="main_install">
Installation</a></h2>
The <b>wxJSON</b> library only consists of three source files and their related header files:<p>
<div class="fragment"><pre class="fragment"> jsonvalue.cpp
 jsonreader.cpp
 jsonwriter.cpp
</pre></div><p>
For info about installation of the library read the INSTALL text file in the top-level directory. You can download this library in the following ways:<p>
<ul>
<li>using anonymous access to the <b>Subversion</b> repository of the <a href="http://wxcode.sf.net">wxCode project</a> on SourceForge. You will need the <a href="http://bakefile.sf.net">bakefile</a> tools in order to generate the <em>makefiles</em> for your system / compiler to actually compile the library unless you write it yourself.</li>
</ul>
<ul>
<li>download the tarball which contains the <em>makefiles</em> for the most common systems / compilers by clikking <a href="https://sourceforge.net/project/showfiles.php?group_id=51305&package_id=45182">here</a></li>
</ul>
<h2><a class="anchor" name="main_links">
Usefull links:</a></h2>
<ul>
<li><a href="http://www.json.org">Introducing JSON</a> </li>
<li><a href="http://www.json.org/fatfree.html">The Fat-Free Alternative to XML</a> </li>
<li><a href="http://www.infoq.com/news/2006/12/json-vs-xml-debate">The JSON vs. XML debate</a> </li>
<li><a href="http://simonwillison.net/2006/Dec/20/json/">Why JSON jsn't just for JavaScript</a></li>
</ul>
<h2><a class="anchor" name="main_limits">
Limitations</a></h2>
The <b>wxJSON</b> library is a complete implementation of the JSON data-interchange format. All JSON specifications are implemented in this library plus some extensions in the writer and in the parser class.<p>
JSON data format is very stable. It is accredited to be stable forever or, at least, until programming languages will be based on numbers, strings, booleans, structures and arrays. This version (1.3) is a stable release but there are plans to add some new features to the library (see <a href="http://luccat.users.sourceforge.net/wxjson/newver_01.html">http://luccat.users.sourceforge.net/wxjson/newver_01.html</a>). Also, new versions of this library will be realesed in order to keep <b>wxJSON</b> compatible with the new releases of <b>wxWidgets</b>.<h2><a class="anchor" name="main_thanks">
Contributors</a></h2>
Many thanks to Bryan Ashby, Robbie Groenewoudt, Alexander Stigsen, Andrejs Cainikovs, Piotr Likus, Kolya Kosenko and Catalin for their help, hints, feedback. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jan 7 22:40:55 2010 for wxJSON by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
